<div ng-controller="builder.ModuloListCtrl">
<header class="panel-heading p-b">
    <span class="h4">
        <i class="fa fa-cubes"></i>&nbsp; Módulos
    </span>
    <button class="btn btn-addon btn-danger pull-right btn-sm" acl="c-builder-modulo" ng-click="abreModalModulo()">
        <i class="fa fa-plus"></i> Novo módulo
    </button>
</header>
<div class="panel-body">
    <ul class="breadcrumb bg-white b-a">
        <li ng-if="Builder.parents.length <= 1">
            <i class="fa fa-home"></i> Módulos
        </li>
        <li class="dropdown" ng-repeat="parent in Builder.parents" ng-class="{'active': $last}" ng-if="Builder.parents.length > 1" uib-dropdown>
            <a class="dropdown-toggle" uib-dropdown-toggle ng-if="parent.name == ''">
                <i class="fa fa-home"></i> Módulos
            </a>
            <a class="dropdown-toggle" uib-dropdown-toggle ng-if="parent.name != ''">
                {{parent.name}}
            </a>
            <ul class="dropdown-menu" uib-dropdown-menu ng-if="!$last">
                <li ng-click="selectModulo(parent.parent)"><a>{{parent.name || 'Módulos'}}</a></li>
                <li class="divider"></li>
                <li ng-repeat="child in parent.childs">
                    <a ng-click="selectModulo(child)">{{child.name}}</a>
                </li>
            </ul>
        </li>
    </ul>

    <div class="panel panel-default">
        <md-table-container>
            <table md-table>
                <thead md-head>
                <tr md-row>
                    <th md-column class="col-md-9"><span>Módulo</span></th>
                </tr>
                </thead>
                <tbody md-body>
                <tr md-row ng-repeat="modulo in modulos">
                    <td md-cell>
                        <btn class="text-info btn-link" ng-click="selectModulo(modulo)">{{modulo.name}}</btn>
                    </td>
                </tr>
                </tbody>
                <tbody md-body ng-if="modulos.length == 0">
                <tr md-row>
                    <td colspan="6" md-cell style="text-align: center;">
                        <h4><i class="fa fa-cubes"></i><br> Desculpe, nenhum módulo foi encontrado.</h4>
                    </td>
                </tr>
                </tbody>
            </table>
        </md-table-container>
    </div>
</div>
</div>